{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rajesmanna/Documents/Web Project/IT-Departmat-Website-NIT-Srinagar/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rajesmanna/Documents/Web Project/IT-Departmat-Website-NIT-Srinagar/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/rajesmanna/Documents/Web Project/IT-Departmat-Website-NIT-Srinagar/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/rajesmanna/Documents/Web Project/IT-Departmat-Website-NIT-Srinagar/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rajesmanna/Documents/Web Project/IT-Departmat-Website-NIT-Srinagar/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import{useHistory,useNavigate}from\"react-router-dom\";import\"./Login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var navigate=useNavigate();var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _state,username,password,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_state=state,username=_state.username,password=_state.password;_context.prev=2;console.log(username,password);_context.next=6;return axios.post(\"http://localhost:8000/api/temporary/?username=\".concat(username,\"&password=\").concat(password),formData);case 6:response=_context.sent;console.log(response);console.log(response.data);if(response.status===200){navigate(\"/dashboard\",{state:response.data});}else{console.log(\"status failed\");}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);console.log(\"post failed\");case 15:case\"end\":return _context.stop();}},_callee,null,[[2,12]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:state.username,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:state.password,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})})]})]});}export default Login;","map":{"version":3,"names":["React","useState","axios","useHistory","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_useState","username","password","_useState2","_slicedToArray","formData","setFormData","navigate","handleInputChange","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_state","response","wrap","_callee$","_context","prev","next","preventDefault","state","console","log","post","concat","sent","data","status","t0","stop","_x","apply","arguments","className","children","onSubmit","type","onChange"],"sources":["/Users/rajesmanna/Documents/Web Project/IT-Departmat-Website-NIT-Srinagar/frontend/src/components/Auth/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory, useNavigate } from \"react-router-dom\";\nimport \"./Login.css\";\n\nfunction Login() {\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const navigate = useNavigate();\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const { username, password } = state;\n    try {\n      console.log(username, password);\n      const response = await axios.post(\n        `http://localhost:8000/api/temporary/?username=${username}&password=${password}`,\n        formData\n      );\n      console.log(response);\n      console.log(response.data);\n      if (response.status === 200) {\n        navigate(\"/dashboard\", { state: response.data });\n      } else {\n        console.log(\"status failed\");\n      }\n    } catch (error) {\n      console.log(\"post failed\");\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <h2>Login</h2>\n      <form onSubmit={handleSubmit} className=\"login-form\">\n        <div>\n          <label>Username:</label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={state.username}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={state.password}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">Login</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}