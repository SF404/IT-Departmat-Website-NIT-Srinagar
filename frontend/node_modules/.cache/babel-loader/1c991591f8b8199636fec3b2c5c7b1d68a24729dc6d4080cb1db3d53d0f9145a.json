{"ast":null,"code":"import _defineProperty from\"/Users/rajesmanna/Documents/Web Project/IT-Departmat-Website-NIT-Srinagar/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/rajesmanna/Documents/Web Project/IT-Departmat-Website-NIT-Srinagar/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rajesmanna/Documents/Web Project/IT-Departmat-Website-NIT-Srinagar/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// import { useHistory } from \"react-router-dom\";\nimport React,{useState,useEffect}from\"react\";import\"./Login.css\";// const history = useHistory();\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState({username:\"\",password:\"\",isLoggedIn:false,error:\"\",teacherData:null// Initialize teacherData as null\n}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var handleInputChange=function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(event){// console.log(data);\nevent.preventDefault();console.log(\"hello\");fetch(\"/api/teachers_data/\").then(function(response){return response.json();}).then(function(data){setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{teacherData:data.teacher,courseData:data.courses,isLoggedIn:true,error:\"\"});});}).catch(function(error){console.error(\"Error fetching data:\",error);setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{error:\"Error fetching data. Please try again.\"// Display an error message\n});});});// const { username, password } = state;\n// // api call\n// if (username === \"user\" && password === \"password\") {\n//   setState({ ...state, isLoggedIn: true, error: \"\" });\n//   // history.push(\"/dashboard\");\n// } else {\n//   if (username !== \"user\") {\n//   } else {\n//   }\n// }\n};useEffect(function(){fetch(\"/api/teachers_data/\").then(function(response){return response.json();}).then(function(data){setState(_objectSpread(_objectSpread({},state),{},{teacherData:data}));}).catch(function(error){console.error(\"Error fetching data:\",error);});},[]);var username=state.username,password=state.password,isLoggedIn=state.isLoggedIn,error=state.error,teacherData=state.teacherData;if(isLoggedIn){return/*#__PURE__*/_jsx(\"div\",{children:\"You are logged in!\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:error}),teacherData&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Teacher Name: \",teacherData.teacher.name]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:username,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Login","_useState","username","password","isLoggedIn","error","teacherData","_useState2","_slicedToArray","state","setState","handleInputChange","event","_event$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","preventDefault","console","log","fetch","then","response","json","data","prevState","teacher","courseData","courses","catch","children","className","style","color","onSubmit","type","onChange"],"sources":["/Users/rajesmanna/Documents/Web Project/IT-Departmat-Website-NIT-Srinagar/frontend/src/components/Auth/Login.js"],"sourcesContent":["// import { useHistory } from \"react-router-dom\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Login.css\";\n\n// const history = useHistory();\n\nfunction Login() {\n  const [state, setState] = useState({\n    username: \"\",\n    password: \"\",\n    isLoggedIn: false,\n    error: \"\",\n    teacherData: null, // Initialize teacherData as null\n  });\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setState({ ...state, [name]: value });\n  };\n\n  const handleSubmit = (event) => {\n    // console.log(data);\n    event.preventDefault();\n    console.log(\"hello\");\n    fetch(\"/api/teachers_data/\")\n      .then((response) => response.json())\n      .then((data) => {\n        setState((prevState) => ({\n          ...prevState,\n          teacherData: data.teacher,\n          courseData: data.courses,\n          isLoggedIn: true,\n          error: \"\",\n        }));\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n        setState((prevState) => ({\n          ...prevState,\n          error: \"Error fetching data. Please try again.\", // Display an error message\n        }));\n      });\n    // const { username, password } = state;\n    // // api call\n    // if (username === \"user\" && password === \"password\") {\n    //   setState({ ...state, isLoggedIn: true, error: \"\" });\n    //   // history.push(\"/dashboard\");\n    // } else {\n    //   if (username !== \"user\") {\n    //   } else {\n    //   }\n    // }\n  };\n  useEffect(() => {\n    fetch(\"/api/teachers_data/\")\n      .then((response) => response.json())\n      .then((data) => {\n        setState({ ...state, teacherData: data });\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n      });\n  }, []);\n  const { username, password, isLoggedIn, error, teacherData } = state;\n  if (isLoggedIn) {\n    return <div>You are logged in!</div>;\n  }\n  return (\n    <div className=\"login-container\">\n      <h2>Login</h2>\n      {error && <div style={{ color: \"red\" }}>{error}</div>}\n      {teacherData && (\n        <div>\n          <p>Teacher Name: {teacherData.teacher.name}</p>\n          {/* Display other teacher data as needed */}\n        </div>\n      )}\n      <form onSubmit={handleSubmit} className=\"login-form\">\n        <div>\n          <label>Username:</label>\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={handleInputChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">Login</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}